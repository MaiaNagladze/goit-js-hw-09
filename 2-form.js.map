{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["'use strict';\n\nconst formData = {\n    email: \"\",\n    message: \"\"\n};\nconst form = document.querySelector(\".feedback-form\");\nconst localStorageKey = \"feedback-form-state\";\n\nconst saveToLocalStorage = () => {\n    try {\n    localStorage.setItem(localStorageKey, JSON.stringify(formData));\n   } catch(err) {\n    console.log(err);\n   }\n};\n \nconst dataLoadingPage = () => {\n    try {\n    const formDataLS = localStorage.getItem(localStorageKey);\n    return formDataLS ? JSON.parse(formDataLS) : null;\n    } catch (err) {\n        console.log(err);\n    }\n};\n\nconst populateForm = () => {\n    const sevedData = dataLoadingPage();\n    if (sevedData) {\n        formData.email = sevedData.email || '';\n        formData.message = sevedData.message || '';\n        form.elements.email.value = formData.email.trim();\n        form.elements.message.value = formData.message.trim();\n    }\n};\n \nform.addEventListener(\"input\", evt => {\n    formData[evt.target.name] = evt.target.value.trim();\n    saveToLocalStorage();\n});\n\nform.addEventListener(\"submit\", evt => {\n    evt.preventDefault();\n\n    const email = form.elements.email.value.trim();\n    const message = form.elements.message.value.trim();\n\n        if (!email || !message) {\n        alert('Fill please all fields');\n        return;\n    }\n    console.log({ email, message });\n\n    form.reset();\n    localStorage.removeItem(localStorageKey);\n    formData.email =\"\";\n    formData.message =\"\";\n});\n    \npopulateForm();  "],"names":["formData","form","localStorageKey","saveToLocalStorage","err","dataLoadingPage","formDataLS","populateForm","sevedData","evt","email","message"],"mappings":"wFAEA,MAAMA,EAAW,CACb,MAAO,GACP,QAAS,EACb,EACMC,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAkB,sBAElBC,EAAqB,IAAM,CAC7B,GAAI,CACJ,aAAa,QAAQD,EAAiB,KAAK,UAAUF,CAAQ,CAAC,CAC9D,OAAOI,EAAK,CACZ,QAAQ,IAAIA,CAAG,CACf,CACJ,EAEMC,EAAkB,IAAM,CAC1B,GAAI,CACJ,MAAMC,EAAa,aAAa,QAAQJ,CAAe,EACvD,OAAOI,EAAa,KAAK,MAAMA,CAAU,EAAI,IAC5C,OAAQF,EAAK,CACV,QAAQ,IAAIA,CAAG,CAClB,CACL,EAEMG,EAAe,IAAM,CACvB,MAAMC,EAAYH,IACdG,IACAR,EAAS,MAAQQ,EAAU,OAAS,GACpCR,EAAS,QAAUQ,EAAU,SAAW,GACxCP,EAAK,SAAS,MAAM,MAAQD,EAAS,MAAM,OAC3CC,EAAK,SAAS,QAAQ,MAAQD,EAAS,QAAQ,OAEvD,EAEAC,EAAK,iBAAiB,QAASQ,GAAO,CAClCT,EAASS,EAAI,OAAO,IAAI,EAAIA,EAAI,OAAO,MAAM,OAC7CN,GACJ,CAAC,EAEDF,EAAK,iBAAiB,SAAUQ,GAAO,CACnCA,EAAI,eAAc,EAElB,MAAMC,EAAQT,EAAK,SAAS,MAAM,MAAM,OAClCU,EAAUV,EAAK,SAAS,QAAQ,MAAM,OAExC,GAAI,CAACS,GAAS,CAACC,EAAS,CACxB,MAAM,wBAAwB,EAC9B,MACH,CACD,QAAQ,IAAI,CAAE,MAAAD,EAAO,QAAAC,CAAS,CAAA,EAE9BV,EAAK,MAAK,EACV,aAAa,WAAWC,CAAe,EACvCF,EAAS,MAAO,GAChBA,EAAS,QAAS,EACtB,CAAC,EAEDO,EAAc"}